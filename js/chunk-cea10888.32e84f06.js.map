{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///./src/lib/contracts/gameToken.js","webpack:///./src/lib/contracts/orderBook.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./node_modules/core-js/internals/is-data-descriptor.js"],"names":["$","call","isObject","anObject","isDataDescriptor","getOwnPropertyDescriptorModule","getPrototypeOf","get","target","propertyKey","descriptor","prototype","receiver","arguments","length","f","value","undefined","stat","require","abi","clientContract","GameToken","options","contractAddress","network","gameToken","BICONOMY_API_KEY","biconomy_api_key","instrument","account","this","signerContract","balanceOf","module","exports","OrderBook","orderBook","delphiClient","init","description","endTime","isPublic","withSigner","connect","metamaskProvider","getSigner","createEvent","gasLimit","eventId","side","orderType","qty","price","placeOrderForEvent","createdBy","getEventId","eventID","getTopOfTheBook","pricesAndQty","buyBook","sellBook","i","push","toString","result","resolveEvent","amount","approve","allowance","superPropBase","_get","Reflect","__esModule","property","base","desc","Object","getOwnPropertyDescriptor","apply","_superPropBase","object","hasOwnProperty","hasOwn"],"mappings":"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","file":"js/chunk-cea10888.32e84f06.js","sourcesContent":["var $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar isDataDescriptor = require('../internals/is-data-descriptor');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.es/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey);\n  if (descriptor) return isDataDescriptor(descriptor)\n    ? descriptor.value\n    : descriptor.get === undefined ? undefined : call(descriptor.get, receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","const {abi} = require('@predmark/dapps.contracts/src/contracts/abi/GameToken.json'),\n    clientContract = require('./clientContracts');\n\nclass GameToken extends clientContract {\n    constructor(options) {\n        super({\n            abi,\n            contractAddress: options.network.gameToken,\n            network: options.network,\n            BICONOMY_API_KEY: options.network.biconomy_api_key,\n            instrument: options.instrument\n        });\n    }\n\n    async getBalance(account) {\n        return await this.signerContract.balanceOf(account)\n     }\n}\n\nmodule.exports = GameToken;","const {abi} = require('@predmark/dapps.contracts/src/contracts/abi/OrderBook.json'),\n    clientContract = require('./clientContracts');\nconst GameToken = require('./gameToken');\nclass OrderBook extends clientContract {\n    constructor(options) {\n        super({\n            abi,\n            contractAddress: options.network.orderBook,\n            network: options.network,\n            BICONOMY_API_KEY: options.network.biconomy_api_key,\n            instrument: options.instrument\n        });\n        this.delphiClient = new GameToken(options);\n        this.account = options.account;\n    }\n    async init() {\n        await super.init();\n        if(this.delphiClient) {\n            await this.delphiClient.init();\n            //return await this.delphiClient.signerContract.allowance(this.account, this.contractAddress);\n        }\n        \n    }\n    async createEvent(description, endTime, isPublic){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        return await withSigner.createEvent(description, endTime, isPublic, {gasLimit: 1000000});\n    }\n    async placeOrderForEvent(eventId, side, orderType, qty, price){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        return await withSigner.placeOrderForEvent(eventId,side, orderType,qty,price,{gasLimit: 1000000});\n    }\n    async getEventId(description, endTime, createdBy) {\n        const eventID = await this.signerContract.getEventId(description, endTime,createdBy);\n        return eventID;    \n    }\n    async getOrdersForEvent(eventId){\n        const pricesAndQty = await this.signerContract.getTopOfTheBook(eventId);\n        const buyBook = [];\n        const sellBook = [];\n        for (let i=0; i<5; i++){\n            buyBook.push({'price': pricesAndQty[0][i].toString()/100, 'quantity': pricesAndQty[1][i].toString()});\n            sellBook.push({'price': pricesAndQty[2][i].toString()/100, 'quantity': pricesAndQty[3][i].toString()});\n        }\n        return {buyBook, sellBook};\n    }\n    async resolveEvent(eventId, result){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        await withSigner.resolveEvent(eventId, result);\n    }\n    async approve(amount) {\n        if(this.delphiClient) {\n            const withSigner = this.delphiClient.signerContract.connect(this.delphiClient.metamaskProvider.getSigner());\n            await withSigner.approve(this.contractAddress, amount, {gasLimit: 2000000});\n        }\n    }\n    async getAllowance(){\n        const allowance =  await this.delphiClient.signerContract.allowance(this.account, this.contractAddress);\n        return allowance.toString();\n    }\n}\n\nmodule.exports = OrderBook;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var hasOwn = require('../internals/has-own-property');\n\nmodule.exports = function (descriptor) {\n  return descriptor !== undefined && (hasOwn(descriptor, 'value') || hasOwn(descriptor, 'writable'));\n};\n"],"sourceRoot":""}