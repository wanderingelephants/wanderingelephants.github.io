{"version":3,"sources":["webpack:///./src/lib/contracts/delphiERC20.js","webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///./src/lib/contracts/orderBook.js","webpack:///./node_modules/@babel/runtime/helpers/get.js","webpack:///./node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///./src/views/OrderBookTest.vue?3271","webpack:///src/views/OrderBookTest.vue","webpack:///./src/views/OrderBookTest.vue?ad89","webpack:///./src/views/OrderBookTest.vue","webpack:///./node_modules/core-js/internals/is-data-descriptor.js"],"names":["require","abi","clientContract","DelphiERC20","options","contractAddress","network","gameToken","BICONOMY_API_KEY","biconomy_api_key","instrument","account","console","log","this","signerContract","balanceOf","module","exports","$","call","isObject","anObject","isDataDescriptor","getOwnPropertyDescriptorModule","getPrototypeOf","get","target","propertyKey","descriptor","prototype","receiver","arguments","length","f","value","undefined","stat","OrderBook","orderBook","delphiClient","init","description","endTime","isPublic","withSigner","connect","metamaskProvider","getSigner","createEvent","gasLimit","eventId","side","orderType","qty","price","placeOrderForEvent","createdBy","getEventId","eventID","getTopOfTheBook","pricesAndQty","buyBook","sellBook","i","push","toString","result","resolveEvent","amount","approve","allowance","superPropBase","_get","Reflect","__esModule","property","base","desc","Object","getOwnPropertyDescriptor","apply","_superPropBase","object","hasOwnProperty","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","_e","placeOrder","staticRenderFns","mounted","data","client","zeroAddress","computed","mapGetters","methods","getOrdersForEvent","orders","component","VBtn","VCol","VRow","hasOwn"],"mappings":"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","file":"js/chunk-0053b078.2df25656.js","sourcesContent":["const {abi} = require('@predmark/dapps.contracts/src/contracts/abi/GameToken.json'),\n    clientContract = require('./clientContracts');\n\nclass DelphiERC20 extends clientContract {\n    constructor(options) {\n        super({\n            abi,\n            contractAddress: options.network.gameToken,\n            network: options.network,\n            BICONOMY_API_KEY: options.network.biconomy_api_key,\n            instrument: options.instrument\n        });\n    }\n\n    async getBalance(account) {\n        console.log(this);\n        return await this.signerContract.balanceOf(account)\n     }\n}\n\nmodule.exports = DelphiERC20;","var $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar isDataDescriptor = require('../internals/is-data-descriptor');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.es/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey);\n  if (descriptor) return isDataDescriptor(descriptor)\n    ? descriptor.value\n    : descriptor.get === undefined ? undefined : call(descriptor.get, receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","const {abi} = require('@predmark/dapps.contracts/src/contracts/abi/OrderBook.json'),\n    clientContract = require('./clientContracts');\nconst DelphiERC20 = require('./delphiERC20');\nclass OrderBook extends clientContract {\n    constructor(options) {\n        super({\n            abi,\n            contractAddress: options.network.orderBook,\n            network: options.network,\n            BICONOMY_API_KEY: options.network.biconomy_api_key,\n            instrument: options.instrument\n        });\n        this.delphiClient = new DelphiERC20(options);\n        this.account = options.account;\n    }\n    async init() {\n        await super.init();\n        if(this.delphiClient) {\n            await this.delphiClient.init();\n            //return await this.delphiClient.signerContract.allowance(this.account, this.contractAddress);\n        }\n        \n    }\n    async createEvent(description, endTime, isPublic){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        return await withSigner.createEvent(description, endTime, isPublic, {gasLimit: 1000000});\n    }\n    async placeOrderForEvent(eventId, side, orderType, qty, price){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        return await withSigner.placeOrderForEvent(eventId,side, orderType,qty,price,{gasLimit: 1000000});\n    }\n    async getEventId(description, endTime, createdBy) {\n        const eventID = await this.signerContract.getEventId(description, endTime,createdBy);\n        return eventID;    \n    }\n    async getOrdersForEvent(eventId){\n        const pricesAndQty = await this.signerContract.getTopOfTheBook(eventId);\n        const buyBook = [];\n        const sellBook = [];\n        for (let i=0; i<5; i++){\n            buyBook.push({'price': pricesAndQty[0][i].toString(), 'qty': pricesAndQty[1][i].toString()});\n            sellBook.push({'price': pricesAndQty[2][i].toString(), 'qty': pricesAndQty[3][i].toString()});\n        }\n        return {buyBook, sellBook};\n    }\n    async resolveEvent(eventId, result){\n        const withSigner = this.signerContract.connect(this.metamaskProvider.getSigner());\n        await withSigner.resolveEvent(eventId, result);\n    }\n    async approve(amount) {\n        if(this.delphiClient) {\n            const withSigner = this.delphiClient.signerContract.connect(this.delphiClient.metamaskProvider.getSigner());\n            await withSigner.approve(this.contractAddress, amount, {gasLimit: 2000000});\n        }\n    }\n    async getAllowance(){\n        const allowance =  await this.delphiClient.signerContract.allowance(this.account, this.contractAddress);\n        return allowance.toString();\n    }\n}\n\nmodule.exports = OrderBook;","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rolling-tradable px-2\"},[_c('v-row',[_c('v-col',[_c('h4',[_vm._v(\"Order Book Test\")])]),(_vm.allowance == 0)?_c('v-col',[_c('v-btn',{on:{\"click\":_vm.approve}},[_vm._v(\"Approve\")])],1):_vm._e(),_c('v-col',[_c('v-btn',{on:{\"click\":_vm.placeOrder}},[_vm._v(\"Place Order\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"rolling-tradable px-2\">\n    <v-row>\n        <v-col>\n            <h4>Order Book Test</h4>\n        </v-col>\n        <v-col v-if=\"allowance == 0\"><v-btn @click=\"approve\">Approve</v-btn></v-col>\n        <v-col><v-btn @click=\"placeOrder\">Place Order</v-btn></v-col>\n    </v-row>\n</div>\n\n</template>\n<script>\nimport OrderBook from \"../lib/contracts/orderBook\";\nimport {mapMutations, mapGetters} from \"vuex\";\nexport default{\n    mounted: async function(){\n        await this.init();\n        this.allowance =  await this.client.getAllowance();\n        await this.getOrdersForEvent();\n    },\n    data: function(){\n        return {\n            client: '',\n            zeroAddress: '0x0000000000000000000000000000000000000000',\n            allowance: 0\n        }\n    },\n    computed: {\n    ...mapGetters([\n        \"network\",\n        \"getSelectedInstrument\",\n        \"account\",\n        \"loading\",\n        \"balance\",\n        \"durations\",\n        \"selectedDuration\"\n    ]),\n  },\n    methods: {\n        init: async function(){\n            this.client = new OrderBook({\n                network: this.network,\n                instrument: this.getSelectedInstrument,\n                account: this.account,\n            });\n            await this.client.init();\n            await this.getEventId('Rajasthan Royals will win IPL 2022', 1653837270, '0x02D99535E1BEFb3B31c37def6A87767773763aCF');\n        },\n        placeOrder: async function(){\n            let eventId = '0x205354f2e585f4cd70e45d50cf6a64c2c8eb59c05d9e20acf5a7fe355ce3e026';\n            let side = 0;\n            let orderType = 0;\n            let qty = 20;\n            let price = 65;\n            await this.client.placeOrderForEvent(eventId,side, orderType,qty,price);\n        },\n        getEventId: async function(description, endTime,createdBy){\n            const eventId = await this.client.getEventId(description, endTime,createdBy);\n            console.log({eventId});\n        },\n        getOrdersForEvent: async function(){\n            const eventId = \"0x205354f2e585f4cd70e45d50cf6a64c2c8eb59c05d9e20acf5a7fe355ce3e026\";\n            const orders = await this.client.getOrdersForEvent(eventId);\n            console.log(JSON.stringify(orders));\n        },\n        approve: async function(){\n            await this.client.approve(10000);\n        }\n        \n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderBookTest.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderBookTest.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderBookTest.vue?vue&type=template&id=b9ba7fda&\"\nimport script from \"./OrderBookTest.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderBookTest.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VRow})\n","var hasOwn = require('../internals/has-own-property');\n\nmodule.exports = function (descriptor) {\n  return descriptor !== undefined && (hasOwn(descriptor, 'value') || hasOwn(descriptor, 'writable'));\n};\n"],"sourceRoot":""}